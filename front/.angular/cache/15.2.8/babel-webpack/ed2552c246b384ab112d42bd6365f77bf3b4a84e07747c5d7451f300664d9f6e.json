{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"primeng/button\";\nimport * as i5 from \"primeng/dialog\";\nfunction SellModalComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r0.totalPurchase, \"\");\n  }\n}\nfunction SellModalComponent_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r2.totalPurchase, \"\");\n  }\n}\nexport class SellModalComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.medicamentId = 0;\n    this.unitQuantity = 0;\n    this.modalVisible = false;\n    this.totalPurchase = 0;\n  }\n  calculateTotal() {\n    const quantity = 10;\n    const url = `http://localhost:8091/api/sale/get_unit_price/${this.medicamentId}?quantity=${quantity}`;\n    this.apiService.getUnitPrice(url).subscribe(price => {\n      this.totalPurchase = price * this.unitQuantity;\n    }, error => {\n      console.log(error);\n    });\n  }\n  sellMedicament() {\n    // Implementa la lógica de venta del medicamento\n    // ...\n    this.closeModal(); // Cierra el modal después de la venta\n  }\n\n  closeModal() {\n    this.modalVisible = false; // Actualiza el estado de modalVisible a false\n  }\n}\n\nSellModalComponent.ɵfac = function SellModalComponent_Factory(t) {\n  return new (t || SellModalComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nSellModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SellModalComponent,\n  selectors: [[\"app-sell-modal\"]],\n  inputs: {\n    medicamentId: \"medicamentId\",\n    modalVisible: \"modalVisible\"\n  },\n  decls: 32,\n  vars: 6,\n  consts: [[1, \"modal\"], [3, \"click\"], [\"for\", \"unitQuantity\"], [\"type\", \"number\", \"id\", \"unitQuantity\", \"name\", \"unitQuantity\", \"ngDefaultControl\", \"\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"header\", \"Venta de Medicamento\"], [3, \"ngSubmit\"], [\"sellForm\", \"ngForm\"], [\"type\", \"number\", \"id\", \"unitQuantity\", \"name\", \"unitQuantity\", \"ngModel\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", \"pButton\", \"\", 3, \"click\"], [\"type\", \"submit\", \"pButton\", \"\"]],\n  template: function SellModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\")(1, \"div\", 0)(2, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function SellModalComponent_Template_button_click_2_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵtext(3, \"Cerrar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h2\");\n      i0.ɵɵtext(5, \"Venta de Medicamento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"label\", 2);\n      i0.ɵɵtext(9, \"Cantidad de unidades:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function SellModalComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.unitQuantity = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function SellModalComponent_Template_button_click_11_listener() {\n        return ctx.calculateTotal();\n      });\n      i0.ɵɵtext(12, \"Total de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, SellModalComponent_p_13_Template, 2, 1, \"p\", 4);\n      i0.ɵɵelementStart(14, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function SellModalComponent_Template_button_click_14_listener() {\n        return ctx.sellMedicament();\n      });\n      i0.ɵɵtext(15, \"Realizar Venta\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"p-dialog\", 5)(17, \"div\", 0)(18, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function SellModalComponent_Template_button_click_18_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵtext(19, \"Cerrar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"p\");\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"form\", 6, 7);\n      i0.ɵɵlistener(\"ngSubmit\", function SellModalComponent_Template_form_ngSubmit_22_listener() {\n        return ctx.sellMedicament();\n      });\n      i0.ɵɵelementStart(24, \"label\", 2);\n      i0.ɵɵtext(25, \"Cantidad de unidades:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function SellModalComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.unitQuantity = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function SellModalComponent_Template_button_click_27_listener() {\n        return ctx.calculateTotal();\n      });\n      i0.ɵɵtext(28, \"Total de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(29, SellModalComponent_p_29_Template, 2, 1, \"p\", 4);\n      i0.ɵɵelementStart(30, \"button\", 10);\n      i0.ɵɵtext(31, \"Realizar Venta\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"Medicamento ID: \", ctx.medicamentId, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.unitQuantity);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.totalPurchase !== null);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\"Medicamento ID: \", ctx.medicamentId, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.unitQuantity);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.totalPurchase !== null);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.ButtonDirective, i5.Dialog],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAQQA,yBAAkC;IAAAA,YAA0B;IAAAA,iBAAI;;;;IAA9BA,eAA0B;IAA1BA,0DAA0B;;;;;IAa5DA,yBAAkC;IAAAA,YAA0B;IAAAA,iBAAI;;;;IAA9BA,eAA0B;IAA1BA,0DAA0B;;;ACbpE,OAAM,MAAOC,kBAAkB;EAO7BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAC5B,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,aAAa,GAAG,CAAC;EACxB;EAEAC,cAAc;IACZ,MAAMC,QAAQ,GAAG,EAAE;IACnB,MAAMC,GAAG,GAAG,iDAAiD,IAAI,CAACN,YAAY,aAAaK,QAAQ,EAAE;IACrG,IAAI,CAACN,UAAU,CAACQ,YAAY,CAACD,GAAG,CAAC,CAACE,SAAS,CACxCC,KAAa,IAAI;MAChB,IAAI,CAACN,aAAa,GAAGM,KAAK,GAAG,IAAI,CAACR,YAAY;IAChD,CAAC,EACAS,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAG,cAAc;IACZ;IACA;IAEA,IAAI,CAACC,UAAU,EAAE,CAAC,CAAC;EACrB;;EAEAA,UAAU;IACR,IAAI,CAACZ,YAAY,GAAG,KAAK,CAAC,CAAC;EAC7B;;;AApCWL,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAkB;EAAAC;IAAAhB;IAAAE;EAAA;EAAAe;EAAAC;EAAAC;EAAAC;IAAA;MDR/BxB,4BAAM;MAEUA;QAAA,OAASyB,gBAAY;MAAA,EAAC;MAACzB,sBAAM;MAAAA,iBAAS;MAC9CA,0BAAI;MAAAA,oCAAoB;MAAAA,iBAAK;MAC7BA,yBAAG;MAAAA,YAAkC;MAAAA,iBAAI;MACzCA,gCAA0B;MAAAA,qCAAqB;MAAAA,iBAAQ;MACvDA,iCAAuG;MAAhEA;QAAA;MAAA,EAA0B;MAAjEA,iBAAuG;MACvGA,kCAAmC;MAA3BA;QAAA,OAASyB,oBAAgB;MAAA,EAAC;MAACzB,gCAAe;MAAAA,iBAAS;MAC3DA,iEAAgE;MAChEA,kCAAmC;MAA3BA;QAAA,OAASyB,oBAAgB;MAAA,EAAC;MAACzB,+BAAc;MAAAA,iBAAS;MAIlEA,oCAAwC;MAExBA;QAAA,OAASyB,gBAAY;MAAA,EAAC;MAACzB,uBAAM;MAAAA,iBAAS;MAC9CA,0BAAG;MAAAA,aAAkC;MAAAA,iBAAI;MACzCA,mCAAuD;MAAjDA;QAAA,OAAYyB,oBAAgB;MAAA,EAAC;MACnCzB,iCAA0B;MAAAA,sCAAqB;MAAAA,iBAAQ;MACvDA,iCAA8F;MAAvDA;QAAA;MAAA,EAA0B;MAAjEA,iBAA8F;MAC9FA,kCAAyD;MAAnCA;QAAA,OAASyB,oBAAgB;MAAA,EAAC;MAASzB,gCAAe;MAAAA,iBAAS;MACjFA,iEAAgE;MAChEA,mCAA8B;MAAAA,+BAAc;MAAAA,iBAAS;;;MAlBlDA,eAAkC;MAAlCA,+DAAkC;MAEEA,eAA0B;MAA1BA,0CAA0B;MAE7DA,eAA4B;MAA5BA,iDAA4B;MAQ7BA,eAAkC;MAAlCA,+DAAkC;MAGEA,eAA0B;MAA1BA,0CAA0B;MAE7DA,eAA4B;MAA5BA,iDAA4B","names":["i0","SellModalComponent","constructor","apiService","medicamentId","unitQuantity","modalVisible","totalPurchase","calculateTotal","quantity","url","getUnitPrice","subscribe","price","error","console","log","sellMedicament","closeModal","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\angular\\front\\src\\app\\sell-modal\\sell-modal.component.html","C:\\angular\\front\\src\\app\\sell-modal\\sell-modal.component.ts"],"sourcesContent":["<form>\n    <div class=\"modal\">\n        <button (click)=\"closeModal()\">Cerrar</button>\n        <h2>Venta de Medicamento</h2>\n        <p>Medicamento ID: {{ medicamentId }}</p>\n        <label for=\"unitQuantity\">Cantidad de unidades:</label>\n        <input type=\"number\" id=\"unitQuantity\" [(ngModel)]=\"unitQuantity\" name=\"unitQuantity\" ngDefaultControl>\n        <button (click)=\"calculateTotal()\">Total de compra</button>\n        <p *ngIf=\"totalPurchase !== null\">Total: {{ totalPurchase }}</p>\n        <button (click)=\"sellMedicament()\">Realizar Venta</button>\n    </div>\n</form>\n\n<p-dialog header=\"Venta de Medicamento\">\n    <div class=\"modal\">\n        <button (click)=\"closeModal()\">Cerrar</button>\n        <p>Medicamento ID: {{ medicamentId }}</p>\n        <form (ngSubmit)=\"sellMedicament()\" #sellForm=\"ngForm\">\n        <label for=\"unitQuantity\">Cantidad de unidades:</label>\n        <input type=\"number\" id=\"unitQuantity\" [(ngModel)]=\"unitQuantity\" name=\"unitQuantity\" ngModel>\n        <button type=\"button\" (click)=\"calculateTotal()\" pButton>Total de compra</button>\n        <p *ngIf=\"totalPurchase !== null\">Total: {{ totalPurchase }}</p>\n        <button type=\"submit\" pButton>Realizar Venta</button>\n        </form>\n    </div>\n</p-dialog>","import { Component, Input } from '@angular/core';\nimport { ApiService } from '../service/api.service';\n\n@Component({\n  selector: 'app-sell-modal',\n  templateUrl: './sell-modal.component.html',\n  styleUrls: ['./sell-modal.component.scss']\n})\nexport class SellModalComponent {\n  @Input() medicamentId: number;\n  @Input() modalVisible: boolean;\n\n  unitQuantity: number;\n  totalPurchase: number;\n\n  constructor(private apiService: ApiService) {\n    this.medicamentId = 0;\n    this.unitQuantity = 0;\n    this.modalVisible = false;\n    this.totalPurchase = 0;\n  }\n\n  calculateTotal() {\n    const quantity = 10;\n    const url = `http://localhost:8091/api/sale/get_unit_price/${this.medicamentId}?quantity=${quantity}`;\n    this.apiService.getUnitPrice(url).subscribe(\n      (price: number) => {\n        this.totalPurchase = price * this.unitQuantity;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  sellMedicament() {\n    // Implementa la lógica de venta del medicamento\n    // ...\n\n    this.closeModal(); // Cierra el modal después de la venta\n  }\n  \n  closeModal() {\n    this.modalVisible = false; // Actualiza el estado de modalVisible a false\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}