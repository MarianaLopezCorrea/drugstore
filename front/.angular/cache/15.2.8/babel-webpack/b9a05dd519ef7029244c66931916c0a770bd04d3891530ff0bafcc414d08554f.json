{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction SellModalComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h2\");\n    i0.ɵɵtext(3, \"Venta de Medicamento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n    i0.ɵɵtext(6, \"Cantidad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function SellModalComponent_div_0_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.unitQuantity = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\n    i0.ɵɵtext(10, \"Total de la Venta:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SellModalComponent_div_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.calculateTotal());\n    });\n    i0.ɵɵtext(14, \"Calcular Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SellModalComponent_div_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.sellMedicament());\n    });\n    i0.ɵɵtext(16, \"Vender Medicamento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function SellModalComponent_div_0_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onCloseModal());\n    });\n    i0.ɵɵtext(18, \"Cerrar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.unitQuantity);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.totalPurchase);\n  }\n}\nexport class SellModalComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.closeModal = new EventEmitter();\n    this.medicament = {};\n    this.unitQuantity = 0;\n    this.modalVisible = false;\n    this.totalPurchase = 0;\n  }\n  calculateTotal() {\n    const quantity = 10;\n    const url = `http://localhost:8091/api/sale/get_unit_price/${this.medicament.id}?quantity=${quantity}`;\n    this.apiService.getUnitPrice(url).subscribe(price => {\n      this.totalPurchase = price * this.unitQuantity;\n    }, error => {\n      console.log(error);\n    });\n  }\n  onCloseModal() {\n    this.closeModal.emit();\n  }\n  sellMedicament() {\n    // Aquí puedes agregar la lógica para realizar la venta del medicamento\n  }\n}\nSellModalComponent.ɵfac = function SellModalComponent_Factory(t) {\n  return new (t || SellModalComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nSellModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SellModalComponent,\n  selectors: [[\"app-sell-modal\"]],\n  inputs: {\n    medicament: \"medicament\",\n    modalVisible: \"modalVisible\"\n  },\n  outputs: {\n    closeModal: \"closeModal\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"modal\", 4, \"ngIf\"], [1, \"modal\"], [1, \"modal-content\"], [1, \"form-group\"], [\"for\", \"quantityInput\"], [\"type\", \"number\", \"id\", \"quantityInput\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"totalInput\"], [\"type\", \"text\", \"id\", \"totalInput\", \"readonly\", \"\", 3, \"value\"], [1, \"button-group\"], [1, \"btn\", 3, \"click\"], [1, \"close-btn\", 3, \"click\"]],\n  template: function SellModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SellModalComponent_div_0_Template, 19, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.modalVisible);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAmCA,YAAY,QAAQ,eAAe;;;;;;;;ICAtEC,8BAAwC;IAEhCA,oCAAoB;IAAAA,iBAAK;IAC7BA,8BAAwB;IACGA,yBAAS;IAAAA,iBAAQ;IAC5CA,gCAAmE;IAA3BA;MAAAA;MAAA;MAAA;IAAA,EAA0B;IAAlEA,iBAAmE;IAEnEA,8BAAwB;IACAA,mCAAkB;IAAAA,iBAAQ;IAClDA,4BAAoE;IACpEA,iBAAM;IACNA,+BAA0B;IACNA;MAAAA;MAAA;MAAA,OAASA,sCAAgB;IAAA,EAAC;IAACA,+BAAc;IAAAA,iBAAS;IACtEA,kCAA+C;IAA3BA;MAAAA;MAAA;MAAA,OAASA,sCAAgB;IAAA,EAAC;IAACA,mCAAkB;IAAAA,iBAAS;IAE1EA,mCAAmD;IAAzBA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAV1BA,eAA0B;IAA1BA,6CAA0B;IAI/BA,eAAuB;IAAvBA,4CAAuB;;;ADA9D,OAAM,MAAOC,kBAAkB;EAQ7BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IALpB,eAAU,GAAuB,IAAIJ,YAAY,EAAQ;IAMjE,IAAI,CAACK,UAAU,GAAG,EAAmB;IACrC,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,aAAa,GAAG,CAAC;EACxB;EAEAC,cAAc;IACZ,MAAMC,QAAQ,GAAG,EAAE;IACnB,MAAMC,GAAG,GAAG,iDAAiD,IAAI,CAACN,UAAU,CAACO,EAAE,aAAaF,QAAQ,EAAE;IACtG,IAAI,CAACN,UAAU,CAACS,YAAY,CAACF,GAAG,CAAC,CAACG,SAAS,CACxCC,KAAa,IAAI;MAChB,IAAI,CAACP,aAAa,GAAGO,KAAK,GAAG,IAAI,CAACT,YAAY;IAChD,CAAC,EACAU,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAG,YAAY;IACV,IAAI,CAACC,UAAU,CAACC,IAAI,EAAE;EACxB;EAEAC,cAAc;IACZ;EAAA;;AAjCSpB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAqB;EAAAC;IAAAnB;IAAAE;EAAA;EAAAkB;IAAAL;EAAA;EAAAM;EAAAC;EAAAC;EAAAC;IAAA;MCT/B5B,oEAiBM;;;MAjBAA,uCAAkB","names":["EventEmitter","i0","SellModalComponent","constructor","apiService","medicament","unitQuantity","modalVisible","totalPurchase","calculateTotal","quantity","url","id","getUnitPrice","subscribe","price","error","console","log","onCloseModal","closeModal","emit","sellMedicament","selectors","inputs","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\angular\\front\\src\\app\\sell-modal\\sell-modal.component.ts","C:\\angular\\front\\src\\app\\sell-modal\\sell-modal.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { ApiService } from '../service/api.service';\nimport { MedicamentDto } from '../dto/medicament.dto';\n\n@Component({\n  selector: 'app-sell-modal',\n  templateUrl: './sell-modal.component.html',\n  styleUrls: ['./sell-modal.component.scss']\n})\nexport class SellModalComponent {\n  @Input() medicament: MedicamentDto;\n  @Input() modalVisible: boolean;\n  @Output() closeModal: EventEmitter<void> = new EventEmitter<void>();\n\n  unitQuantity: number;\n  totalPurchase: number;\n\n  constructor(private apiService: ApiService) {\n    this.medicament = {} as MedicamentDto;\n    this.unitQuantity = 0;\n    this.modalVisible = false;\n    this.totalPurchase = 0;\n  }\n\n  calculateTotal() {\n    const quantity = 10;\n    const url = `http://localhost:8091/api/sale/get_unit_price/${this.medicament.id}?quantity=${quantity}`;\n    this.apiService.getUnitPrice(url).subscribe(\n      (price: number) => {\n        this.totalPurchase = price * this.unitQuantity;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  onCloseModal() {\n    this.closeModal.emit();\n  }\n\n  sellMedicament() {\n    // Aquí puedes agregar la lógica para realizar la venta del medicamento\n  }\n}\n","<div *ngIf=\"modalVisible\" class=\"modal\">\n<div class=\"modal-content\">\n    <h2>Venta de Medicamento</h2>\n    <div class=\"form-group\">\n    <label for=\"quantityInput\">Cantidad:</label>\n    <input type=\"number\" id=\"quantityInput\" [(ngModel)]=\"unitQuantity\">\n    </div>\n    <div class=\"form-group\">\n    <label for=\"totalInput\">Total de la Venta:</label>\n    <input type=\"text\" id=\"totalInput\" [value]=\"totalPurchase\" readonly>\n    </div>\n    <div class=\"button-group\">\n    <button class=\"btn\" (click)=\"calculateTotal()\">Calcular Total</button>\n    <button class=\"btn\" (click)=\"sellMedicament()\">Vender Medicamento</button>\n    </div>\n    <button class=\"close-btn\" (click)=\"onCloseModal()\">Cerrar</button>\n</div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}